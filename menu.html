<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine‚Äôs Menu üíó</title>

<style>
  :root{
    --bgCream:#fbf5ee;
    --bgBlush:#fff1f4;
    --bgRose:#fde3e8;

    --card:#ffffffee;
    --ink:#2a2240;
    --muted:#7a6f86;

    --red:#e84c5c;
    --pink:#ff6fa5;

    --shadow:0 22px 60px rgba(22,10,45,0.14);
    --radius:30px;
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:
      radial-gradient(900px 520px at 20% 15%, #ffffff 0%, transparent 60%),
      radial-gradient(900px 520px at 80% 30%, var(--bgBlush) 0%, transparent 55%),
      linear-gradient(135deg, var(--bgCream), var(--bgRose));
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink);
    overflow:hidden;
  }

  .stage{
    width:min(980px, 92vw);
    height:min(680px, 92vh);
    background: rgba(255,255,255,0.72);
    border:1px solid rgba(232,76,92,0.12);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    position:relative;
    padding: 22px;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  .content{
    flex:1;
    overflow:auto;
    padding-right: 6px;
  }

  .content::-webkit-scrollbar{ width: 10px; }
  .content::-webkit-scrollbar-thumb{
    background: rgba(232,76,92,0.20);
    border-radius: 12px;
    border: 3px solid rgba(255,255,255,0.75);
  }

  .header{
    text-align:center;
    margin: 8px 0 12px 0;
    padding: 6px 8px 10px 8px;
  }

  h1{
    margin:0;
    font-size:34px;
    letter-spacing:-0.4px;
    line-height:1.15;
  }

  .sub{
    margin-top:10px;
    color: var(--muted);
    font-weight:650;
  }

  .highlight{
    background: linear-gradient(135deg, var(--red), var(--pink));
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
    font-weight:950;
    white-space: nowrap;
  }

  .grid{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:18px;
    margin-top: 12px;
    padding-bottom: 10px;
  }

  @media (max-width: 820px){
    .stage{ height: 94vh; }
    .grid{ grid-template-columns: 1fr; }
    h1{ font-size:30px; }
  }

  .panel{
    background: var(--card);
    border-radius: 26px;
    padding: 18px;
    border:1px solid rgba(42,34,64,0.10);
    box-shadow: 0 16px 40px rgba(22,10,45,0.08);
  }

  .panel h2{
    margin:0 0 10px 0;
    font-size:20px;
    letter-spacing:-0.2px;
  }

  .hint{
    margin: 0 0 14px 0;
    font-size: 13px;
    color: var(--muted);
    font-weight: 650;
  }

  .options{
    display:flex;
    flex-direction:column;
    gap: 12px;
  }

  .card{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap: 14px;
    padding: 14px;
    border-radius: 18px;
    background: rgba(255,255,255,0.85);
    border: 1px solid rgba(42,34,64,0.10);
    transition: transform .12s ease, box-shadow .12s ease;
  }

  .card:hover{
    transform: translateY(-2px);
    box-shadow: 0 14px 26px rgba(22,10,45,0.08);
  }

  .left{
    display:flex;
    flex-direction:column;
    gap: 6px;
    min-width: 0;
    flex:1;
  }

  .nameRow{
    display:flex;
    align-items:baseline;
    gap: 10px;
    flex-wrap:wrap;
  }

  .name{
    font-size:18px;
    font-weight:900;
    letter-spacing:-0.2px;
  }

  .meta{
    font-size:13px;
    color: var(--muted);
    font-weight:650;
  }

  .rating{
    font-size:13px;
    font-weight:800;
    color:#3b3357;
  }

  .stars{
    letter-spacing: 1px;
  }

  .btnCol{
    display:flex;
    flex-direction:column;
    gap: 8px;
    align-items:flex-end;
    min-width: 130px;
  }

  .pickBtn{
    border:none;
    border-radius: 14px;
    padding: 10px 14px;
    font-weight:900;
    cursor:pointer;
    background: linear-gradient(135deg, var(--red), var(--pink));
    color:white;
    transition: transform .12s ease, filter .12s ease;
    white-space: nowrap;
  }

  .pickBtn:hover{ filter: brightness(1.03); transform: scale(1.02); }

  .linkBtn{
    text-decoration:none;
    font-weight:850;
    color: #2a2240;
    background: rgba(255,255,255,0.95);
    border: 1px solid rgba(42,34,64,0.14);
    padding: 9px 12px;
    border-radius: 14px;
    transition: transform .12s ease;
    display:inline-block;
  }
  .linkBtn:hover{ transform: scale(1.02); }

  .selectedSingle,
  .selectedMulti{
    outline: 3px solid rgba(232,76,92,0.18);
    border-color: rgba(232,76,92,0.28);
    background: rgba(255,241,244,0.85);
  }

  .footerBar{
    margin-top: 12px;
    display:flex;
    gap: 10px;
    justify-content:center;
    flex-wrap:wrap;
    padding-top: 8px;
  }

  .primary{
    border:none;
    border-radius: 18px;
    padding: 12px 18px;
    font-weight:950;
    cursor:pointer;
    background: linear-gradient(135deg, var(--red), var(--pink));
    color:white;
    white-space: nowrap;
  }

  .secondary{
    border:1px solid rgba(42,34,64,0.14);
    background: rgba(255,255,255,0.95);
    border-radius: 18px;
    padding: 12px 18px;
    font-weight:900;
    cursor:pointer;
    color: var(--ink);
    white-space: nowrap;
  }

  /* personal option input */
  .chefInputWrap{
    display:none;
    margin-top: 8px;
  }
  .chefInput{
    width:100%;
    border-radius: 14px;
    border: 1px solid rgba(42,34,64,0.14);
    padding: 10px 12px;
    font-weight: 700;
    color: var(--ink);
    background: rgba(255,255,255,0.95);
    outline: none;
  }
  .chefInput::placeholder{ color: rgba(122,111,134,0.9); }
  .chefInput:focus{
    border-color: rgba(232,76,92,0.35);
    box-shadow: 0 0 0 4px rgba(232,76,92,0.10);
  }

  /* modal */
  .modalBackdrop{
    position:fixed;
    inset:0;
    background: rgba(20,10,35,0.35);
    display:none;
    align-items:center;
    justify-content:center;
    padding: 18px;
    z-index: 999;
  }

  .modal{
    width:min(620px, 92vw);
    background: rgba(255,255,255,0.96);
    border-radius: 22px;
    padding: 18px;
    box-shadow: 0 22px 60px rgba(0,0,0,0.18);
    border: 1px solid rgba(42,34,64,0.12);
    position: relative;
    overflow:hidden;
  }

  .modal h3{
    margin: 0 0 10px 0;
    font-size: 20px;
  }

  .summaryBox{
    background: rgba(255,241,244,0.55);
    border: 1px solid rgba(232,76,92,0.20);
    padding: 12px;
    border-radius: 16px;
    color: #2a2240;
    font-weight: 750;
    line-height: 1.55;
    white-space: pre-line;
  }

  .modalActions{
    margin-top: 12px;
    display:flex;
    justify-content:flex-end;
    gap: 10px;
  }

  /* Final screen inside modal */
  .finalScreen{
    display:none;
    text-align:center;
    padding: 10px 6px 2px 6px;
  }

  .finalTitle{
    font-size: 22px;
    font-weight: 950;
    letter-spacing: -0.2px;
    margin: 6px 0 6px 0;
  }

  .finalText{
    color: var(--muted);
    font-weight: 750;
    margin: 0 0 10px 0;
  }

  /* Heart burst */
  .heartsLayer{
    position:absolute;
    inset:0;
    pointer-events:none;
    overflow:hidden;
  }

  .heartPop{
    position:absolute;
    font-size: 18px;
    opacity: 0;
    animation: popFloat 1.35s ease forwards;
  }

  @keyframes popFloat{
    0%{ transform: translateY(10px) scale(0.6); opacity: 0; }
    15%{ opacity: 1; }
    100%{ transform: translateY(-160px) scale(1.2); opacity: 0; }
  }
</style>
</head>

<body>
  <div class="stage">
    <div class="header">
      <h1>
        Yeaaay!! Baby Ph∆∞∆°ng, what do you want to eat on <span class="highlight">Valentine‚Äôs Day</span>?
      </h1>
      <div class="sub">Pick one for lunch, and pick as many Chef Mario dishes as you want üíó</div>
    </div>

    <div class="content">
      <div class="grid">
        <!-- Lunch -->
        <div class="panel">
          <h2>Valentine‚Äôs Lunch Choices</h2>
          <p class="hint">Pick one lunch place.</p>

          <div class="options" id="lunchOptions">
            <div class="card" data-group="lunch" data-name="Nour (Surry Hills)" data-link="https://share.google/nPgNoqdv8hqqU7uOd">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Nour</div>
                  <div class="meta">Surry Hills</div>
                </div>
                <div class="rating"><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.8 ¬∑ 3.2k Reviews</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Pick this</button>
                <a class="linkBtn" href="https://share.google/nPgNoqdv8hqqU7uOd" target="_blank" rel="noopener">See more</a>
              </div>
            </div>

            <div class="card" data-group="lunch" data-name="Armorica (Surry Hills)" data-link="https://share.google/7os84OGcAREuS6A5n">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Armorica</div>
                  <div class="meta">Surry Hills</div>
                </div>
                <div class="rating"><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.6 ¬∑ 1.8k Google Reviews</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Pick this</button>
                <a class="linkBtn" href="https://share.google/7os84OGcAREuS6A5n" target="_blank" rel="noopener">See more</a>
              </div>
            </div>

            <div class="card" data-group="lunch" data-name="ChoCho San (Potts Point)" data-link="https://share.google/WLloYSckiDH9G2P2A">
              <div class="left">
                <div class="nameRow">
                  <div class="name">ChoCho San</div>
                  <div class="meta">Potts Point</div>
                </div>
                <div class="rating"><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.5 ¬∑ 1.9k Reviews</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Pick this</button>
                <a class="linkBtn" href="https://share.google/WLloYSckiDH9G2P2A" target="_blank" rel="noopener">See more</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Dinner (multi select) -->
        <div class="panel">
          <h2>Chef Mario Dinner Choices üë®‚Äçüç≥</h2>
          <p class="hint">Pick as many as you want. We can do multiple dishes.</p>

          <div class="options" id="dinnerOptions">
            <div class="card" data-group="dinner" data-name="NG√î CHI√äN B∆†">
              <div class="left">
                <div class="nameRow">
                  <div class="name">NG√î CHI√äN B∆†</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Buttery corn goodness</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Indomie">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Indomie</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Classic comfort</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Brownies">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Brownies</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Chocolate overload</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Chocolate Cake">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Chocolate Cake</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Soft, rich, and sweet</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Filipino Beef and Rice">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Filipino Beef and Rice</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Hearty and romantic</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Th·ªãt Kho T√†u">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Th·ªãt Kho T√†u</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Vietnamese caramelised pork and eggs</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <div class="card" data-group="dinner" data-name="Kimchi Jjigae">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Kimchi Jjigae</div>
                  <div class="meta">Chef Mario üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Warm, spicy Korean stew</div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button">Add</button>
              </div>
            </div>

            <!-- Personal option -->
            <div class="card" id="personalCard" data-group="dinner" data-name="Personal option (tell the chef what you want)">
              <div class="left">
                <div class="nameRow">
                  <div class="name">Personal option</div>
                  <div class="meta">Tell the chef what you want üë®‚Äçüç≥</div>
                </div>
                <div class="rating">Type anything you‚Äôre craving.</div>

                <div class="chefInputWrap" id="chefInputWrap">
                  <input class="chefInput" id="chefInput" type="text"
                    placeholder="Example: creamy pasta, steak, sushi, something spicy..." maxlength="120">
                </div>
              </div>
              <div class="btnCol">
                <button class="pickBtn" type="button" id="personalBtn">Add</button>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="footerBar">
        <button class="primary" id="doneBtn" type="button">Done with my choices</button>
        <button class="secondary" id="resetBtn" type="button">Reset</button>
        <button class="secondary" type="button" onclick="window.location.href='index.html'">Back</button>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modalBackdrop" id="modalBackdrop">
    <div class="modal" id="modal">
      <div class="heartsLayer" id="heartsLayer"></div>

      <!-- Screen 1: Summary -->
      <div id="summaryScreen">
        <h3>Your Valentine‚Äôs Plan üíó</h3>
        <div class="summaryBox" id="summaryText"></div>
        <div class="modalActions">
          <button class="primary" type="button" id="nextBtn">Next</button>
        </div>
      </div>

      <!-- Screen 2: Final -->
      <div class="finalScreen" id="finalScreen">
        <div class="finalTitle">See you on Valentine‚Äôs Day üíó</div>
        <div class="finalText">My forever Valentine, I love you the Most!üíó</div>
        <div class="modalActions" style="justify-content:center;">
          <button class="secondary" type="button" id="backToMenuBtn">Back to menu</button>
        </div>
      </div>
    </div>
  </div>

<script>
  let pickedLunch = null;
  let pickedLunchLink = "";
  const pickedDinner = new Set();
  let personalText = "";

  const personalCard = document.getElementById("personalCard");
  const chefInputWrap = document.getElementById("chefInputWrap");
  const chefInput = document.getElementById("chefInput");
  const personalBtn = document.getElementById("personalBtn");

  function clearLunchSelected(){
    document.querySelectorAll(`.card[data-group="lunch"]`).forEach(c => c.classList.remove("selectedSingle"));
  }

  function toggleDinnerSelected(card){
    const name = card.dataset.name;

    if(pickedDinner.has(name)){
      pickedDinner.delete(name);
      card.classList.remove("selectedMulti");

      // if personal option removed, hide input + clear text
      if(card.id === "personalCard"){
        chefInputWrap.style.display = "none";
        chefInput.value = "";
        personalText = "";
      }
    }else{
      pickedDinner.add(name);
      card.classList.add("selectedMulti");

      // if personal option added, show input
      if(card.id === "personalCard"){
        chefInputWrap.style.display = "block";
        setTimeout(() => chefInput.focus(), 50);
      }
    }
  }

  // lunch single select
  document.querySelectorAll('.card[data-group="lunch"] .pickBtn').forEach(btn => {
    btn.addEventListener("click", (e) => {
      const card = e.target.closest(".card");
      clearLunchSelected();
      card.classList.add("selectedSingle");
      pickedLunch = card.dataset.name;
      pickedLunchLink = card.dataset.link || "";
    });
  });

  // dinner multi select
  document.querySelectorAll('.card[data-group="dinner"] .pickBtn').forEach(btn => {
    btn.addEventListener("click", (e) => {
      const card = e.target.closest('.card[data-group="dinner"]');
      toggleDinnerSelected(card);
    });
  });

  chefInput.addEventListener("input", () => {
    personalText = chefInput.value.trim();
  });

  // modal
  const modalBackdrop = document.getElementById("modalBackdrop");
  const summaryTextEl = document.getElementById("summaryText");
  const summaryScreen = document.getElementById("summaryScreen");
  const finalScreen = document.getElementById("finalScreen");
  const heartsLayer = document.getElementById("heartsLayer");

  function openModal(){
    modalBackdrop.style.display = "flex";
  }
  function closeModal(){
    modalBackdrop.style.display = "none";
    // reset modal to summary view next time
    summaryScreen.style.display = "block";
    finalScreen.style.display = "none";
    heartsLayer.innerHTML = "";
  }

  function buildSummary(){
    const lunchLine = pickedLunch
      ? `Lunch: ${pickedLunch}` + (pickedLunchLink ? `\nLink: ${pickedLunchLink}` : "")
      : "Lunch: Not selected yet";

    let dinnerLine = "Dinner (Chef Mario): Not selected yet";
    if(pickedDinner.size){
      const items = Array.from(pickedDinner);
      dinnerLine = `Dinner (Chef Mario):\n‚Ä¢ ${items.join("\n‚Ä¢ ")}`;

      if(pickedDinner.has("Personal option (tell the chef what you want)")){
        const note = personalText ? personalText : "(You didn‚Äôt type anything yet)";
        dinnerLine += `\n\nPersonal request:\n${note}`;
      }
    }

    return `${lunchLine}\n\n${dinnerLine}\n\nBaby Ph∆∞∆°ng, order confirmed. I will do my best to make it happen üíó`;
  }

  function heartBurst(){
    heartsLayer.innerHTML = "";

    const hearts = ["üíó","üíñ","üíû","üíò"];
    const count = 18;

    for(let i=0;i<count;i++){
      const h = document.createElement("div");
      h.className = "heartPop";
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];

      const left = Math.random() * 100;
      const top = 70 + Math.random() * 20;

      h.style.left = left + "%";
      h.style.top = top + "%";
      h.style.animationDelay = (Math.random() * 0.25) + "s";
      h.style.fontSize = (16 + Math.random()*14) + "px";

      heartsLayer.appendChild(h);
    }
  }

  document.getElementById("doneBtn").addEventListener("click", () => {
    summaryTextEl.textContent = buildSummary();
    summaryScreen.style.display = "block";
    finalScreen.style.display = "none";
    openModal();
  });

  document.getElementById("nextBtn").addEventListener("click", () => {
    // go to final screen with heart burst
    heartBurst();
    summaryScreen.style.display = "none";
    finalScreen.style.display = "block";
  });

  document.getElementById("backToMenuBtn").addEventListener("click", () => {
    closeModal();
  });

  modalBackdrop.addEventListener("click", (e) => {
    if(e.target === modalBackdrop){
      closeModal();
    }
  });

  document.getElementById("resetBtn").addEventListener("click", () => {
    pickedLunch = null;
    pickedLunchLink = "";
    pickedDinner.clear();
    personalText = "";
    chefInput.value = "";
    chefInputWrap.style.display = "none";

    document.querySelectorAll(`.card[data-group="lunch"]`).forEach(c => c.classList.remove("selectedSingle"));
    document.querySelectorAll(`.card[data-group="dinner"]`).forEach(c => c.classList.remove("selectedMulti"));
  });
</script>
</body>
</html>
